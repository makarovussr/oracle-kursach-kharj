<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Select parcel</title>
</h:head>

<h:body>  <ui:include src="Header.xhtml" />

	<a href="Login.xhtml">Login</a> to use all options <br /><br />
	<h:form>
	<h:outputText value="Id:  " />
		<p:inputText value="#{selectParcelBean.id}" size="20"
			id="parcelId" />
		<br />
		
		<p:commandButton value="Search">
			<f:ajax execute="parcelId"
				render="parcelsTable" />
					<f:param name="act" value="#{selectParcelBean.act}" />
		</p:commandButton>
		
		<p:commandButton value="Reset" action="#{selectParcelBean.Reset()}">
			<f:ajax execute=""
				render="parcelsTable" />
					<f:param name="act" value="#{selectParcelBean.act}" />
		</p:commandButton>
		
		
		<p:dataTable value="#{selectParcelBean.parcels}" var="parcel"
			id="parcelsTable" border="1">
			<p:column>
				<f:facet name="header">
					<h:outputText value="id" />
				</f:facet>
				<h:outputText
					value="#{parcel.id}" />
			</p:column>

			<p:column>
				<f:facet name="header">
					<h:outputText value="Client from" />
				</f:facet>
				<h:outputText
					value="#{parcel.clientFrom.lastName} #{parcel.clientFrom.firstName}" />
			</p:column>
			
			<p:column>
				<f:facet name="header">
					<h:outputText value="Client to" />
				</f:facet>
				<h:outputText
					value="#{parcel.clientTo.lastName} #{parcel.clientTo.firstName}" />
			</p:column>
			<p:column>
				<f:facet name="header">
					<h:outputText value="City from" />
				</f:facet>
				<h:outputText
					value="#{parcel.cityFrom.name}" />
			</p:column>
			
			<p:column>
				<f:facet name="header">
					<h:outputText value="City to" />
				</f:facet>
				<h:outputText
					value="#{parcel.cityTo.name}" />
			</p:column>
			
			<p:column>
				<f:facet name="header">
					<h:outputText value="Route" />
				</f:facet>
				<h:outputText
					value="#{parcel.route}" />
			</p:column>
			
			<p:column>
				<f:facet name="header">
					<h:outputText value="Type" />
				</f:facet>
				<h:outputText
					value="#{parcel.parcelType.name}" />
			</p:column>
			
			<p:column>
				<f:facet name="header">
					<h:outputText value="Weight" />
				</f:facet>
				<h:outputText
					value="#{parcel.weight}" />
			</p:column>
			
			<p:column>
				<f:facet name="header">
					<h:outputText value="Price" />
				</f:facet>
				<h:outputText
					value="#{parcel.price}" />
			</p:column>
			
			<p:column>
				<f:facet name="header">
					<h:outputText value="Date" />
				</f:facet>
				<h:outputText
					value="#{parcel.acceptDate}" />
			</p:column>
			

			<p:column>
				<f:facet name="header">
					<h:outputText value="" />
				</f:facet>
				<p:commandButton value="Use" action="#{selectParcelBean.SelectSimple}" >
					<f:param name="selectedIdStr" value="#{parcel.id}" />
					<f:param name="act" value="#{selectParcelBean.act}" />
				</p:commandButton>
				
			</p:column>

		</p:dataTable>
	</h:form>
		 <ui:include src="Footer.xhtml" />
</h:body>

</html>
